---
layout: compress
---
{% include head.html %}
<body>
  {% include nav.html %}
  {% include header.html %}
  
  {{ content }}
  
  {% include footer.html %}
  {% include floating-buttons.html %}

  <!-- JavaScript - SOLO LOS NUEVOS ARCHIVOS -->
  <script src="{{'/js/search.js/'|relative_url}}" defer></script>
  <script src="{{'/js/whatsapp.js/'|relative_url}}" defer></script>
  <script src="https://cdn.lordicon.com/lordicon.js" defer></script>
  
  <!-- Navigation Mobile Menu -->
  <script>
    (function() {
      'use strict';
      
      const MobileNav = {
        init() {
          this.hamburger = document.getElementById('hamburger');
          this.mobileMenu = document.getElementById('mobileMenu');
          this.mobileClose = document.getElementById('mobileClose');
          this.accordionBtns = document.querySelectorAll('.mobile-accordion-btn');
          
          if (!this.hamburger || !this.mobileMenu) return;
          
          this.attachEvents();
        },
        
        attachEvents() {
          this.hamburger.addEventListener('click', () => this.open());
          this.mobileClose?.addEventListener('click', () => this.close());
          this.mobileMenu.addEventListener('click', (e) => {
            if (e.target === this.mobileMenu) this.close();
          });
          this.accordionBtns.forEach(btn => {
            btn.addEventListener('click', () => this.toggleAccordion(btn));
          });
          this.mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => this.close());
          });
          document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && this.mobileMenu.classList.contains('active')) {
              this.close();
            }
          });
        },
        
        open() {
          this.mobileMenu.classList.add('active');
          document.body.style.overflow = 'hidden';
          this.hamburger.setAttribute('aria-expanded', 'true');
        },
        
        close() {
          this.mobileMenu.classList.remove('active');
          document.body.style.overflow = '';
          this.hamburger.setAttribute('aria-expanded', 'false');
        },
        
        toggleAccordion(btn) {
          const content = btn.nextElementSibling;
          const isExpanded = btn.getAttribute('aria-expanded') === 'true';
          
          this.accordionBtns.forEach(otherBtn => {
            if (otherBtn !== btn) {
              otherBtn.setAttribute('aria-expanded', 'false');
              otherBtn.nextElementSibling?.classList.remove('active');
            }
          });
          
          btn.setAttribute('aria-expanded', !isExpanded);
          content?.classList.toggle('active');
        }
      };
      
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => MobileNav.init());
      } else {
        MobileNav.init();
      }
    })();
  </script>
</body>
</html>
